---
alwaysApply: false
---

# Coding Style Guide for Null;Variant

このファイルは、コード編集時の参照情報です。  
プロジェクト本質については `.cursor/rules/project.mdc` を参照してください。

## コーディング規約

### Python

- **スタイル**: PEP 8準拠
- **docstring**: Google Style推奨
- **型ヒント**: 可能な限り使用
- **エラーハンドリング**: 適切な例外処理を含める
- **スクリプト用途**: ビルド自動化、翻訳処理、目次生成
- **日本語コメント**: プロジェクトオーナーの母語のため推奨

### Markdown

- **見出し**: ATX形式（`#`）を使用
- **リンク**: 相対パスで記述
- **コードブロック**: 言語指定を必ず含める
- **目次**: `scripts/gen_toc.py`で自動生成可能
- **数式**: KaTeX記法（`$...$`または`$$...$$`）

### YAML/JSON

- **インデント**: YAML=2スペース、JSON=2スペース
- **構造化**: `spec/agent.schema.json`のスキーマに準拠

## 開発フロー

### ローカル開発セットアップ

```bash
# 仮想環境構築
python -m venv .venv
source .venv/bin/activate  # macOS/Linux

# 依存関係インストール
pip install -r requirements.txt

# Anthropic API キー設定（翻訳機能用）
export ANTHROPIC_API_KEY=sk-...
```

### 典型的な編集フロー

1. `content/ja/AGENT.md` を編集
2. 必要に応じて `scripts/gen_toc.py content/ja/AGENT.md` で目次再生成
3. `CHANGELOG.md` の `[Unreleased]` に変更を記録
4. （将来）CI/CDが自動的に英語版・YAML版を生成

**注意**: 現在CI/CDパイプラインは未稼働です。

## スクリプトの使用

```bash
# 目次自動生成
python scripts/gen_toc.py content/ja/AGENT.md

# note記事準備（プレビュー・コピー）
python scripts/prepare_note_article.py

# レビュー実行（LLMによる品質チェック）
python scripts/review.py

# ビルド実行（翻訳・YAML生成）
python scripts/build.py  # 現在未稼働

# ドキュメント整合性チェック
python scripts/validate_docs.py

# ADR記録
python scripts/record_decision.py \
  --title "決定のタイトル" \
  --context "背景・理由" \
  --author "Claude Code"
```

詳細は `scripts/README.md` を参照してください。

## テスト

```bash
# 目次生成テスト
python scripts/test_toc.py
```

テストフィクスチャの配置ルールについては、`tests/README.md` および ADR-0009 を参照してください。

---

**最終更新**: 2025年10月30日  
**バージョン**: 2.0.0 (Cursor移行版)
